{% load static %}

<div class="d-flex flex-row bd-highlight p-3 bg-white">
  <nav class="navbar navbar-expand-lg p-3 bg-white fixed-top">
      <a class="ml-auto pr-5 bd-highlight" href="{% url 'root' %}">
        <img src="{% static 'images/logo.png' %}" alt="instagram" />
      </a>

      <!--   검색기능   -->
      <div class="pl-5 pr-5 bd-highlight">
        {% if user.is_authenticated %}
            <form action="" method="get" class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="text">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">검색</button>
            </form>
        {% endif %}
      </div>

      <div class="pr-2 -pl-5 bd-highlight">
        {% if user.is_authenticated %}
        <a class="p-1 flex-fill bd-highlight" href="/">
          <img src="{% static 'images/home.png' %}" style="width: 30px; height: 30px;" />
        </a>
        <a class="p-1 flex-fill bd-highlight" href="{% url 'comm:index' %}">
          <img src="{% static 'images/message.png' %}" style="width: 30px; height: 30px;" />
        </a>
        <a class="p-1 flex-fill bd-highlight" href="{% url 'instagram:post_new' %}">
          <img src="{% static 'images/write.png' %}" style="width: 30px; height: 30px;" />
        </a>
        {% endif %}
      </div>
      <div class="bd-highlight">
        {% if user.is_authenticated %}
          <div class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <img src="{{ user.avatar_url }}" class="rounded-circle" style="width: 30px; height: 30px;" />
            </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="{% url 'instagram:user_page' user.username  %}">My page</a>
                <a class="dropdown-item" href="{% url 'accounts:profile_edit' %}">Profile</a>
                <a class="dropdown-item" href="{% url 'accounts:password_change' %}">Password</a>
                <a class="dropdown-item" href="#">Edit</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="{% url 'accounts:logout' %}?next={{ request.get_full_path }}">Logout</a>
              </div>
          </div>
        {% endif %}
      </div>
      <div class="mr-auto bd-highlight">
        {% if not user.is_authenticated %}
          <a class="p-1 flex-fill bd-highlight" href="{% url 'accounts:signup' %}">Signup</a>
          <a class="p-1 flex-fill bd-highlight" href="{% url 'accounts:login' %}">Login</a>
        {% endif %}
      </div>
  </nav>
</div>
